<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
</head>

<body>

    <script>
        function IsWeixinOrAlipay() {
            var ua = window.navigator.userAgent.toLowerCase();
            //判断是不是微信
            if (ua.match(/MicroMessenger/i) == 'micromessenger') {
                document.title = '微信扫码进入';
                alert('微信进入')
                // var weixintarger = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=申请到的appid&redirect_uri=授权过后要去的页面地址（要encode）&response_type=code&scope=snsapi_userinfo&state=1&connect_redirect=1#wechat_redirect';
                // window.location.href = weixintarger;
            }else if (ua.match(/AlipayClient/i) == 'alipayclient') {  //判断是不是支付宝
                document.title = '支付宝扫码进入';
                // var alipaytarget = 'https://openauth.alipay.com/oauth2/publicAppAuthorize.htm?app_id=申请到的appid&scope=auth_user&redirect_uri=授权过后要去的页面地址（要encode)&state=2';
                // window.location.href = alipaytarget;
                alert('支付宝进入')
            }else {
                document.title = '非微信,支付宝进入';
                alert('其他平台')
            }
        }
        IsWeixinOrAlipay();
    //     function onBridgeReady() {
    //         WeixinJSBridge.invoke(
    //             'getBrandWCPayRequest', {
    //             "appId": "wx2421b1c4370ec43b",     //公众号名称，由商户传入     
    //             "timeStamp": "1395712654",         //时间戳，自1970年以来的秒数     
    //             "nonceStr": "e61463f8efa94090b1f366cccfbbb444", //随机串     
    //             "package": "prepay_id=u802345jgfjsdfgsdg888",
    //             "signType": "MD5",         //微信签名方式：     
    //             "paySign": "70EA570631E4BB79628FBCA90534C63FF7FADD89" //微信签名 
    //         },
    //             function (res) {
    //                 if (res.err_msg == "get_brand_wcpay_request:ok") {
    //                     // 使用以上方式判断前端返回,微信团队郑重提示：
    //                     //res.err_msg将在用户支付成功后返回ok，但并不保证它绝对可靠。
    //                 }
    //             });
    //     }
    //     if (typeof WeixinJSBridge == "undefined") {
    //         if (document.addEventListener) {
    //             document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false);
    //         } else if (document.attachEvent) {
    //             document.attachEvent('WeixinJSBridgeReady', onBridgeReady);
    //             document.attachEvent('onWeixinJSBridgeReady', onBridgeReady);
    //         }
    //     } else {
    //         onBridgeReady();
    //     }
    //    function ALIpayOrder() {
    //         var urlStr = '接口地址';
    //         var data = {
    //             'alipayUserid': this.userInfo.alipayUserid,
    //             'alipayNickname': this.userInfo.alipayNickname,
    //             'alipayHead': this.userInfo.alipayHead,
    //             'orderId': this.orderId
    //         }; //相关订单信息

    //         //重点是下面这段代码，后端返回的form表单通过下面的代码展现在页面上，就是调起的支付宝支付页面。
    //         axios.get(urlStr, { params: data }).then((response) => {
    //             vm.btnPay = false;
    //             var form = response.data;
    //             const div = document.createElement('div')//创建div
    //             div.innerHTML = form//将返回的form 放入div
    //             document.body.appendChild(div);
    //             document.forms[0].submit();
    //         }).catch(function (error) {
    //             console.log('失败', error);
    //         });
    //     }

    </script>
</body>

</html>